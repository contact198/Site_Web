<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact — Power Link</title>
  <link rel="stylesheet" href="assets/styles.css" />
  <script defer src="assets/script.js"></script>
</head>
<body>
  <header class="site-header">
    <a class="logo" href="index.html">
      <img src="assets/powerlink-logo.svg" alt="Power Link" style="height:28px; vertical-align:middle">
    </a>
    <nav class="site-nav">
      <a href="index.html">Home</a>
      <a href="presentation.html">About</a>
      <a href="missions.html">Missions</a>
      <a href="personnel.html">Team</a>
      <a href="contact.html" class="active">Contact</a>
    </nav>
  </header>

  <main class="narrow section">
    <h1>Contact us</h1>
    <p>You can reach out directly using the form below or by email at 
      <a href="mailto:contact@wwwpowerlink.com">contact@wwwpowerlink.com</a>.</p>

    <form id="contact-form" class="contact-form" 
          action="https://formspree.io/f/mblzaevw" 
          method="POST">
      <label>Name
        <input required type="text" name="name" placeholder="Your name">
      </label>
      <label>Email
        <input required type="email" name="email" placeholder="you@example.com">
      </label>
      <label>Subject
        <input required type="text" name="subject" placeholder="Subject">
      </label>
      <label>Message
        <textarea required name="message" placeholder="How can we help?"></textarea>
      </label>
      <button class="btn" type="submit">Send message</button>
      <p class="muted" style="margin-top:10px">
        If the form doesn’t work, you can also write to 
        <a href="mailto:contact@wwwpowerlink.com?subject=Contact%20from%20website">contact@wwwpowerlink.com</a>.
      </p>
      <div id="form-status" class="note" style="display:none; margin-top:12px"></div>
    </form>

    <script>
    document.addEventListener('DOMContentLoaded', function(){
      const form = document.getElementById('contact-form');
      const status = document.getElementById('form-status');
      if(!form) return;
      form.addEventListener('submit', async function(e){
        e.preventDefault();
        status.style.display = 'block';
        status.textContent = 'Sending...';
        try{
          const data = new FormData(form);
          const resp = await fetch(form.action, {
            method: 'POST',
            body: data,
            headers: { 'Accept': 'application/json' }
          });
          if(resp.ok){
            status.textContent = '✅ Thank you! Your message has been sent successfully. Our team will get back to you as soon as possible.';
            form.reset();
          }else{
            const err = await resp.json().catch(()=>({}));
            status.textContent = err.errors ? err.errors.map(e=>e.message).join(', ') : 
              '⚠️ Something went wrong. Please try again or email us directly.';
          }
        }catch(ex){
          status.textContent = '⚠️ Network error. Please try again, or email us directly.';
        }
      });
    });
    </script>
  </main>

  <footer class="site-footer">
    © <span id="year"></span> Power Link — All rights reserved.
  </footer>
</body>
</html>
